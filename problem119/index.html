<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `problem119` crate."><meta name="keywords" content="rust, rustlang, rust-lang, problem119"><title>problem119 - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../problem119/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Crate problem119</p><div class="sidebar-elems"><a id='all-types' href='all.html'><p>See all problem119's items</p></a><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></div><p class='location'></p><script>window.sidebarCurrent = {name: 'problem119', ty: 'mod', relpath: '../'};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/problem119/problem119.rs.html#1-162' title='goto source code'>[src]</a></span><span class='in-band'>Crate <a class="mod" href=''>problem119</a></span></h1><div class='docblock'><p><a href="https://projecteuler.net/problem=119">Problem 119 (Digit power sum)</a></p>
<h1 id="solution-detail" class="section-header"><a href="#solution-detail">Solution detail</a></h1>
<p>Given a perfect power, it is easy to check whether it is a power of the sum of its digits - 
just add up the digits and see!</p>
<p>We can solve this problem, therefore, by iterating over all perfect powers in increasing order.
This can be done by using a priority queue. For each power, store its base, its exponent and
its value, and pop them off the priority queue in order of value.</p>
<p>Each time a power is popped, store in the queue the next power up with the same base.
Additionally, keep track of the first base not yet included in the queue and make sure to add
it at an opportune moment - i.e. when we first include a power whose value exceeds the power
with the new base.</p>
<p>To avoid storing useless powers that can never be the solution, we can also calculate a rough
lower bound on the smallest exponent to consider for each base. For example, we never need to
consider if the square of a 3 digit number will be a solution - because the square will have
at most 6 digits, the sum of which will be at most 54.</p>
<p>In general, for a base <code>a</code> with <code>d</code> digits, <code>aᵏ</code> will have at most <code>kd</code> digits, meaning that we
only need to consider exponents <code>k</code> for which <code>9kd &gt; 10ᵈ⁻¹</code>, in other words <code>k &gt; 10ᵈ⁻¹ / 9d</code>.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.Power.html" title='problem119::Power struct'>Power</a></td><td class='docblock-short'><p>A structure that represents a perfect power</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.PowersIterator.html" title='problem119::PowersIterator struct'>PowersIterator</a></td><td class='docblock-short'><p>An iterator over sequential perfect powers, ignoring those powers which can never be a digit
sum perfect power.</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.answer.html" title='problem119::answer fn'>answer</a></td><td class='docblock-short'><p>Solve the problem, returning the answer as a <code>String</code></p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.main.html" title='problem119::main fn'>main</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="fn" href="fn.min_viable_exponent.html" title='problem119::min_viable_exponent fn'>min_viable_exponent</a></td><td class='docblock-short'><p>Returns the smallest exponent which, for this base, could form a digit-sum power.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.num_digits.html" title='problem119::num_digits fn'>num_digits</a></td><td class='docblock-short'><p>Returns the number of digits in the given number</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.solve.html" title='problem119::solve fn'>solve</a></td><td class='docblock-short'><p>Find the nth number which is the sum of its digits raised to some perfect power.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.sum_of_digits.html" title='problem119::sum_of_digits fn'>sum_of_digits</a></td><td class='docblock-short'><p>Returns the sum of the digits in the given number</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "problem119";</script><script src="../aliases.js"></script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>